#include "stdafx.h"
#include <iostream>
using namespace std;

void main()
{
	int  x1, y1, x2, y2;
	char s1, s2;
	int dx[] = { -2, -2, -1, -1, 1, 1, 2, 2 };
	int dy[] = { -1, 1, -2, 2, -2, 2, -1, 1 };
	int d[8][8];
	do
	{
		cout << " Insert 1-8 for red horse : ";
		cin >> x1;
		cout << endl << " Insert a-h : ";
		cin >> s1;

	} while (x1 < 1 || x1 > 8 || s1 < 'a' || s1 > 'h');
	do
	{
		cout << " Insert 1-8 for green horse : ";
		cin >> x2;
		cout << endl << " Insert a-h : ";
		cin >> s2;

	} while (x2 < 1 || x2 > 8 || s2 < 'a' || s2 > 'h');
	x1--;
	x2--;
	y1 = s1 - 97;
	y2 = s2 - 97;



	for (int i = 0; i < 8; i++)
		for (int j = 0; j < 8; j++)
			d[i][j] = -1;
	d[y1][x1] = 0;

	int* q = new int[8 * 8 * 2];
	int front = 0, rear = 0;

	q[rear] = x1; rear++;
	q[rear] = y1; rear++;

	while (front < rear)
	{
		int ux = q[front]; front++;
		int uy = q[front]; front++;
		for (int i = 0; i < 8; i++)
		{

			int vx = ux + dx[i];
			int vy = uy + dy[i];
			if (vx >= 0 && vx < 8 && vy >= 0 &&
				vy < 8 && d[vy][vx] == -1)
			{
				d[vy][vx] = d[uy][ux] + 1;
				q[rear] = vx; rear++;
				q[rear] = vy; rear++;
			}
		}
	}

	if (d[y2][x2] % 2) cout << "-1";
	else cout << d[y2][x2] / 2;

	cout << endl;
	system("PAUSE");
}

